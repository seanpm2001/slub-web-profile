<html
    data-namespace-typo3-fluid="true"
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers">
<f:layout name="Default"/>

<f:section name="Default">
    <f:if condition="{widgets -> f:count()} > 0">
        <link
            rel="stylesheet"
            type="text/css"
            media="all"
            href="/typo3conf/ext/slub_web_profile/Resources/Public/Css/webProfile.css"/>

        <script
            type="module"
            src="/typo3conf/ext/slub_web_profile/Resources/Public/JavaScript/dashboard.js"></script>

        <p>Verf√ºgBARe Widgets</p>
        <ul>
            <f:for as="widget" each="{widgets}">
                <li>{widget.header} ({widget.CType})</li>
            </f:for>
        </ul>

        <div class="dashboard__widgets" id="js-dashboard-widgets">
            <f:for as="widget" each="{widgets}">
                <div
                    class="js-dashboard-widget dashboard__widget dashboard__widget--loading"
                    data-widget="{widget.uid}"
                    data-uri="{uri.path}"
                    id="js-dashboard-widget-{widget.uid}">
                    <svg class="widget__loading" viewbox="0 0 128 128">
                        <use href="#svg-icon-loading"></use>
                    </svg>
                </div>
            </f:for>
        </div>

        <svg aria-hidden="true" focusable="false" style="display:none;" xmlns="http://www.w3.org/2000/svg">
            <symbol id="svg-icon-loading" viewBox="0 0 128 128">
                <path d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/>
            </symbol>
        </svg>
    </f:if>
</f:section>
</html>
